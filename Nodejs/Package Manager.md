# Package Manager

우리가 프로그램을 동작시키다 보면 어떠한 이유로 인해 프로그램이 꺼질 수 있다. 그렇게 되면 서비스가 되지 않기 때문에 PM2와 같은 프로그램이 프로세스를 감시하고 있다가 다시 켜주는 등의 일을 해준다.

### NPM

node.js에서 만든 프로그램들은 npm을 통해 쉽게 설치할 수 있다.

npm을 통해 pm2를 설치해보겠다.

```jsx
npm install pm2 -g
```

이때 제대로 깔리지 않는다면 관리자권한으로 실행시켜 준다. `앞에 sudo 추가`

설치가 되었다면,

```jsx
pm2 start `앱이름`.js --watch
```

```jsx
pm2 monit / pm2 list
```

→ 현재 pm2에서 실행되고있는 프로그램의 list를 보여준다. 나가고 싶을때는 `q` 버튼을 누른다.

이를 실행하면 (나는 main.js 실행)

```jsx
┌────┬─────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name    │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
├────┼─────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤
│ 0  │ main    │ default     │ N/A     │ fork    │ 63892    │ 0s     │ 0    │ online    │ 0%       │ 2.0mb    │ son… │ disabled │
└────┴─────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴───
```

위와 같은 표가 나오는데 name은 실행중인 프로그램의 별명이 나오고  status 가 online이면 프로그램이 실행중인 것 이다.

```jsx
pm2 stop `앱이름` 
```

→ 현재 실행되고있는 프로그램이 꺼진다.

```jsx
pm2 log
```

→ 어떠한 문제점이 있을때 문제점을 알려준다.